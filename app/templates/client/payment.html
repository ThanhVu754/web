<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thanh toán Đặt chỗ - SangAir</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/common.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/payment.css') }}">
  </head>
  <body>
    <header>
      <div class="container header-container">
        <div class="logo">
          <a href="{{ url_for('client_bp.home_page') }}"><h2>SangAir</h2></a>
        </div>
      </div>
    </header>

    <main class="container payment-page-container">
      <h1>Xác nhận và Thanh toán</h1>

      <div class="payment-layout">
        <!-- Cột 1: Form thanh toán -->
        <div id="paymentFormArea" class="payment-form-column">
          <form id="actualPaymentForm">
            <h3>Thông tin người liên hệ</h3>
            <div class="form-group">
              <label for="payment-passenger-name">Họ và tên *</label>
              <input type="text" id="payment-passenger-name" name="contactFullName" required>
              <span class="validation-error-message" id="payment-passenger-name-error"></span>
            </div>
            <div class="form-group">
              <label for="payment-passenger-email">Email *</label>
              <input type="email" id="payment-passenger-email" name="contactEmail" required>
              <span class="validation-error-message" id="payment-passenger-email-error"></span>
            </div>
            <div class="form-group">
              <label for="payment-passenger-phone">Số điện thoại *</label>
              <input type="tel" id="payment-passenger-phone" name="contactPhone" required>
              <span class="validation-error-message" id="payment-passenger-phone-error"></span>
            </div>

            <h3>Phương thức thanh toán</h3>
            <div class="form-group">
              <label for="payment-method-select">Chọn phương thức *</label>
              <select id="payment-method-select" name="paymentMethod" required>
                <option value="credit-card">Thẻ tín dụng</option>
                <option value="momo">MoMo</option>
                <option value="zalopay">ZaloPay</option>
                <option value="bank-transfer">Chuyển khoản ngân hàng</option>
              </select>
            </div>
            <form id="actualPaymentForm">
              <div id="payment-details-section" style="display:none; border-top: 1px solid #eee; margin-top: 20px; padding-top: 20px;">
                  <h3>Thông tin thanh toán (Mô phỏng)</h3>
                  <div class="form-group">
                      <label for="card-number">Số thẻ</label>
                      <input type="text" id="card-number" placeholder="XXXX XXXX XXXX XXXX" required>
                  </div>
                  <div class="form-group">
                      <label for="card-holder">Tên chủ thẻ</label>
                      <input type="text" id="card-holder" required>
                  </div>
                  <button type="submit" class="btn-confirm-payment">Thanh toán ngay</button>
              </div>
              <button type="button" id="confirmBookingBtn" class="btn-confirm-payment">Xác nhận và đến trang Thanh toán</button>
            </form>
            <button type="submit" class="btn-confirm-payment">Xác nhận và Đặt vé</button>
          </form>
        </div>

        <!-- Cột 2: Bảng tóm tắt đặt chỗ -->
        <div class="booking-details-column">
          <div id="bookingSummary" class="booking-summary">
            <h3>Tóm tắt Đặt chỗ</h3>
            <p><strong>Chuyến bay ID:</strong> <span id="summaryFlightId">–</span></p>
            <p><strong>Hạng ghế:</strong> <span id="summarySeatClass">–</span></p>
            <p><strong>Số lượng hành khách:</strong> <span id="summaryNumPax">–</span></p>
            <hr>
            <p style="font-weight: bold; font-size: 1.1em;">
              Tổng tiền (dự kiến): 
              <span id="summaryTotalAmountDisplay" class="total-amount">–</span>
            </p>
          </div>

          <div id="paymentResult" class="payment-result" style="display:none;"></div>
        </div>
      </div>
    </main>
    <script src="{{ url_for('static', filename='js/payment_script.js') }}"></script>
  </body>
</html>
